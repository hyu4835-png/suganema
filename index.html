<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SUGANEMA | 영화 그 이상의 감동</title>
    
    <!-- 라이브러리 로드: React, ReactDOM, Firebase -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />

    <style>
        .custom-scrollbar::-webkit-scrollbar { width: 5px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.02); }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(249, 115, 22, 0.3); border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(249, 115, 22, 0.5); }
        
        body {
            background-color: #000;
            color: #fff;
            margin: 0;
            font-family: 'Pretendard', -apple-system, sans-serif;
            -webkit-font-smoothing: antialiased;
        }

        .fade-in { animation: fadeIn 0.6s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .scale-in { animation: scaleIn 0.3s ease-out forwards; }
        @keyframes scaleIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, deleteDoc, collection, addDoc, onSnapshot, query } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Firebase Configuration
        // 우선적으로 환경 변수(__firebase_config)를 사용하고, 없을 경우 사용자가 제공한 설정을 사용합니다.
        const firebaseConfig = typeof __firebase_config !== 'undefined' 
            ? JSON.parse(__firebase_config) 
            : {
                apiKey: "AIzaSyBu3qzxD9f60Eh_znbgw9qYMptVh_XEXPc",
                authDomain: "suganema-a49fd.firebaseapp.com",
                databaseURL: "https://suganema-a49fd-default-rtdb.firebaseio.com",
                projectId: "suganema-a49fd",
                storageBucket: "suganema-a49fd.firebasestorage.app",
                messagingSenderId: "990826168324",
                appId: "1:990826168324:web:d4d93e16e83ba3f5d07551"
            };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // App ID for Firestore paths (RULE 1)
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'suganema-project';

        const { useState, useMemo, useEffect, useRef } = React;

        // --- 아이콘 컴포넌트 ---
        const Icon = ({ name, size = 24, strokeWidth = 2, className = "", fill = "none" }) => {
            const icons = {
                search: React.createElement('path', { d: "M21 21l-4.35-4.35M19 11a8 8 0 11-16 0 8 8 0 0116 0z" }),
                star: React.createElement('path', { d: "M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" }),
                play: React.createElement('path', { d: "M5 3l14 9-14 9V3z" }),
                plus: React.createElement('path', { d: "M12 5v14M5 12h14" }),
                userPlus: React.createElement(React.Fragment, null, 
                    React.createElement('path', { d: "M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" }),
                    React.createElement('circle', { cx: "8.5", cy: "7", r: "4" }),
                    React.createElement('line', { x1: "20", y1: "8", x2: "20", y2: "14" }),
                    React.createElement('line', { x1: "23", y1: "11", x2: "17", y2: "11" })
                ),
                "chevron-left": React.createElement('path', { d: "M15 18l-6-6 6-6" }),
                x: React.createElement('path', { d: "M18 6L6 18M6 6l12 12" }),
                user: React.createElement(React.Fragment, null, 
                    React.createElement('path', { d: "M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" }),
                    React.createElement('circle', { cx: "12", cy: "7", r: "4" })
                ),
                info: React.createElement(React.Fragment, null, 
                    React.createElement('circle', { cx: "12", cy: "12", r: "10" }),
                    React.createElement('line', { x1: "12", y1: "16", x2: "12", y2: "12" }),
                    React.createElement('line', { x1: "12", y1: "8", x2: "12.01", y2: "8" })
                ),
                lock: React.createElement(React.Fragment, null, 
                    React.createElement('rect', { x: "3", y: "11", width: "18", height: "11", rx: "2", ry: "2" }),
                    React.createElement('path', { d: "M7 11V7a5 5 0 0110 0v4" })
                ),
                check: React.createElement('polyline', { points: "20 6 9 17 4 12" }),
                edit: React.createElement(React.Fragment, null, 
                    React.createElement('path', { d: "M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" }),
                    React.createElement('path', { d: "M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" })
                ),
                trash: React.createElement(React.Fragment, null, 
                    React.createElement('polyline', { points: "3 6 5 6 21 6" }),
                    React.createElement('path', { d: "M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2" }),
                    React.createElement('line', { x1: "10", y1: "11", x2: "10", y2: "17" }),
                    React.createElement('line', { x1: "14", y1: "11", x2: "14", y2: "17" })
                ),
                "message-square": React.createElement('path', { d: "M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z" })
            };
            return React.createElement('svg', {
                width: size, height: size, viewBox: "0 0 24 24", fill: fill, 
                stroke: "currentColor", strokeWidth: strokeWidth, 
                strokeLinecap: "round", strokeLinejoin: "round", className: className
            }, icons[name] || null);
        };

        // --- Navbar Component ---
        const Navbar = ({ view, setView, setSearchQuery, searchQuery, isAdmin, setIsAuthModalOpen, setIsEditModalOpen, setEditingMovie }) => (
            React.createElement('nav', { className: "fixed top-0 w-full z-50 bg-black/60 backdrop-blur-xl px-6 py-4 flex items-center justify-between border-b border-white/5 transition-all duration-300" },
                React.createElement('div', { className: "flex items-center gap-8" },
                    React.createElement('h1', { 
                        className: "text-2xl font-black text-orange-500 cursor-pointer tracking-tighter hover:opacity-80 transition-opacity", 
                        onClick: () => { setView('home'); setSearchQuery(''); } 
                    }, "SUGANEMA"),
                    React.createElement('div', { className: "hidden md:flex gap-6 text-sm font-semibold text-gray-400" },
                        React.createElement('span', { className: "hover:text-white cursor-pointer transition-colors", onClick: () => { setView('home'); setSearchQuery(''); } }, "홈"),
                        React.createElement('span', { className: "hover:text-white cursor-pointer transition-colors" }, "영화")
                    )
                ),
                React.createElement('div', { className: "flex items-center gap-4" },
                    React.createElement('div', { 
                        className: `p-2 rounded-full transition-all cursor-pointer ${isAdmin ? 'bg-orange-500/10 text-orange-500 border border-orange-500/20' : 'bg-white/5 text-gray-400 border border-white/5 hover:bg-white/10'}`,
                        onClick: () => { if(isAdmin) { setEditingMovie(null); setIsEditModalOpen(true); } else { setIsAuthModalOpen(true); } }
                    }, React.createElement(Icon, { name: "plus", size: 20 })),
                    React.createElement('div', { className: "relative group" },
                        React.createElement(Icon, { name: "search", size: 14, className: "absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-orange-500 transition-colors" }),
                        React.createElement('input', { 
                            type: "text", placeholder: "제목 검색", 
                            className: "bg-zinc-900/80 border border-white/5 focus:border-orange-500/50 rounded-full py-2 pl-10 pr-4 text-xs text-white focus:outline-none w-36 md:w-56 transition-all focus:ring-4 focus:ring-orange-500/10",
                            value: searchQuery, 
                            onChange: (e) => { setSearchQuery(e.target.value); if (view !== 'home') setView('home'); } 
                        })
                    ),
                    React.createElement('div', { 
                        className: `w-9 h-9 rounded-full flex items-center justify-center cursor-pointer overflow-hidden border transition-all ${isAdmin ? 'border-orange-500 bg-orange-500/10' : 'border-white/10 bg-zinc-900 hover:border-white/30'}`,
                        onClick: () => setIsAuthModalOpen(true) 
                    }, React.createElement(Icon, { name: "user", size: 18, className: isAdmin ? 'text-orange-500' : 'text-gray-500' }))
                )
            )
        );

        // --- Main App Component ---
        const App = () => {
            const [user, setUser] = useState(null);
            const [view, setView] = useState('home'); 
            const [movies, setMovies] = useState([]);
            const [castList, setCastList] = useState([]);
            const [comments, setComments] = useState([]);
            const [selectedMovie, setSelectedMovie] = useState(null);
            const [selectedCast, setSelectedCast] = useState(null);
            const [isAdmin, setIsAdmin] = useState(false);
            const [searchQuery, setSearchQuery] = useState('');
            const [isAuthModalOpen, setIsAuthModalOpen] = useState(false);
            const [isEditModalOpen, setIsEditModalOpen] = useState(false);
            const [isCastEditModalOpen, setIsCastEditModalOpen] = useState(false);
            const [isCommentModalOpen, setIsCommentModalOpen] = useState(false);
            const [editingMovie, setEditingMovie] = useState(null);
            const [editingCast, setEditingCast] = useState(null);

            const [categoryTitles, setCategoryTitles] = useState({
                movies: "화제의 작품 몰아보기",
                cast: "화제의 출연진"
            });
            const [editingCategoryId, setEditingCategoryId] = useState(null);

            // Step 1: Authentication (RULE 3)
            useEffect(() => {
                const initAuth = async () => {
                    try {
                        // Canvas 환경 토큰이 있으면 사용, 아니면 익명 로그인 시도
                        if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                            await signInWithCustomToken(auth, __initial_auth_token);
                        } else {
                            await signInAnonymously(auth);
                        }
                    } catch (e) {
                        console.error("Auth Error", e);
                    }
                };
                initAuth();
                const unsubscribe = onAuthStateChanged(auth, setUser);
                return () => unsubscribe();
            }, []);

            // Step 2: Data Listeners (RULE 1 & 2)
            useEffect(() => {
                if (!user) return;

                const moviesRef = collection(db, 'artifacts', appId, 'public', 'data', 'movies');
                const castRef = collection(db, 'artifacts', appId, 'public', 'data', 'cast');
                const commentsRef = collection(db, 'artifacts', appId, 'public', 'data', 'comments');
                const configRef = collection(db, 'artifacts', appId, 'public', 'data', 'config');

                const unsubMovies = onSnapshot(moviesRef, 
                    (ss) => setMovies(ss.docs.map(doc => ({ ...doc.data(), id: doc.id }))),
                    (e) => console.error("Movies Fetch Error", e)
                );

                const unsubCast = onSnapshot(castRef, 
                    (ss) => setCastList(ss.docs.map(doc => ({ ...doc.data(), id: doc.id }))),
                    (e) => console.error("Cast Fetch Error", e)
                );

                const unsubComments = onSnapshot(commentsRef, 
                    (ss) => setComments(ss.docs.map(doc => ({ ...doc.data(), id: doc.id }))),
                    (e) => console.error("Comments Fetch Error", e)
                );

                const unsubConfig = onSnapshot(configRef, (ss) => {
                    const data = {};
                    ss.docs.forEach(doc => data[doc.id] = doc.data().title);
                    if (data.movies || data.cast) {
                        setCategoryTitles(prev => ({ 
                            movies: data.movies || prev.movies, 
                            cast: data.cast || prev.cast 
                        }));
                    }
                }, (e) => console.error("Config Fetch Error", e));

                return () => { unsubMovies(); unsubCast(); unsubComments(); unsubConfig(); };
            }, [user]);

            const filteredMovies = useMemo(() => {
                if (!searchQuery.trim()) return movies;
                return movies.filter(movie => movie.title && movie.title.toLowerCase().includes(searchQuery.toLowerCase()));
            }, [movies, searchQuery]);

            const bannerMovies = useMemo(() => movies.filter(movie => movie.isBanner), [movies]);

            const getAverageRating = (movieId) => {
                const movieComments = comments.filter(c => c.movieId === movieId);
                if (movieComments.length === 0) return "0.0";
                return (movieComments.reduce((acc, curr) => acc + curr.rating, 0) / movieComments.length).toFixed(1);
            };

            const handleMovieClick = (movie) => { setSelectedMovie(movie); setView('detail'); window.scrollTo(0, 0); };
            const handleCastClick = (cast) => { setSelectedCast(cast); setView('castWiki'); window.scrollTo(0, 0); };
            const handleAdminLogin = (password) => { if (password === "1111") { setIsAdmin(true); setIsAuthModalOpen(false); } else alert("비밀번호 오류"); };
            
            const deleteComment = async (id) => { 
                if(window.confirm("삭제하시겠습니까?")) {
                    await deleteDoc(doc(db, 'artifacts', appId, 'public', 'data', 'comments', id));
                }
            };
            const deleteMovie = async (id) => { 
                if (window.confirm("정말로 이 작품을 삭제하시겠습니까?")) {
                    await deleteDoc(doc(db, 'artifacts', appId, 'public', 'data', 'movies', id));
                    setView('home');
                }
            };
            const deleteCast = async (id) => { 
                if (window.confirm("정말로 이 인물을 삭제하시겠습니까?")) {
                    await deleteDoc(doc(db, 'artifacts', appId, 'public', 'data', 'cast', id));
                    setView('home');
                }
            };

            const saveMovie = async (movieData) => {
                const moviesRef = collection(db, 'artifacts', appId, 'public', 'data', 'movies');
                if (movieData.id) {
                    const { id, ...data } = movieData;
                    await setDoc(doc(moviesRef, id), data);
                } else {
                    await addDoc(moviesRef, movieData);
                }
                setIsEditModalOpen(false);
            };

            const saveCast = async (castData) => {
                const castRef = collection(db, 'artifacts', appId, 'public', 'data', 'cast');
                if (castData.id) {
                    const { id, ...data } = castData;
                    await setDoc(doc(castRef, id), data);
                } else {
                    await addDoc(castRef, castData);
                }
                setIsCastEditModalOpen(false);
                if (selectedCast && selectedCast.id === castData.id) setSelectedCast(castData);
            };

            const handleCategoryTitleChange = async (id, newTitle) => {
                const configDocRef = doc(db, 'artifacts', appId, 'public', 'data', 'config', id);
                await setDoc(configDocRef, { title: newTitle });
                setEditingCategoryId(null);
            };

            // --- HomeView ---
            const HomeView = () => {
                const [currentIndex, setCurrentIndex] = useState(0);

                useEffect(() => {
                    if (bannerMovies.length <= 1) return;
                    const timer = setInterval(() => setCurrentIndex(prev => (prev + 1) % bannerMovies.length), 6000);
                    return () => clearInterval(timer);
                }, [bannerMovies.length]);

                return React.createElement('div', { className: "pt-28 pb-20 px-8 max-w-7xl mx-auto fade-in" },
                    !searchQuery && bannerMovies.length > 0 && React.createElement('div', { className: "relative w-full h-[480px] rounded-[2rem] overflow-hidden mb-16 shadow-2xl border border-white/5 bg-zinc-900" },
                        bannerMovies.map((movie, idx) => (
                            React.createElement('div', { key: movie.id, className: `absolute inset-0 transition-opacity duration-1000 ease-in-out ${idx === currentIndex ? 'opacity-100 z-10' : 'opacity-0 z-0'}` },
                                React.createElement('img', { src: movie.backdrop, className: "w-full h-full object-cover scale-105", alt: movie.title }),
                                React.createElement('div', { className: "absolute inset-0 bg-gradient-to-r from-black via-black/40 to-transparent" }),
                                React.createElement('div', { className: "absolute bottom-12 left-12 max-w-xl transition-all duration-1000 delay-300" },
                                    React.createElement('span', { className: "bg-orange-600 text-[10px] font-black tracking-widest px-2.5 py-1 rounded text-white shadow-lg uppercase mb-4 inline-block" }, "SUGA Hot Pick"),
                                    React.createElement('h2', { className: "text-5xl md:text-6xl font-black text-white mb-4 tracking-tighter" }, movie.title),
                                    React.createElement('p', { className: "text-gray-200 text-sm mb-8 line-clamp-2 opacity-80" }, movie.description),
                                    React.createElement('div', { className: "flex gap-4" },
                                        React.createElement('button', { onClick: () => handleMovieClick(movie), className: "flex items-center gap-3 bg-white text-black px-8 py-3.5 rounded-xl font-black text-sm hover:bg-orange-500 hover:text-white transition-all shadow-xl hover:scale-105 active:scale-95" },
                                            React.createElement(Icon, { name: "play", size: 16, fill: "currentColor" }), " 감상하기"
                                        ),
                                        React.createElement('button', { onClick: () => handleMovieClick(movie), className: "flex items-center gap-3 bg-white/10 backdrop-blur-md text-white px-8 py-3.5 rounded-xl font-black text-sm hover:bg-white/20 transition-all border border-white/10" },
                                            React.createElement(Icon, { name: "info", size: 16 }), " 상세 정보"
                                        )
                                    )
                                )
                            )
                        )),
                        bannerMovies.length > 1 && React.createElement('div', { className: "absolute bottom-12 right-12 flex gap-3 z-20" },
                            bannerMovies.map((_, idx) => (
                                React.createElement('div', { key: idx, onClick: () => setCurrentIndex(idx), className: `h-1.5 rounded-full transition-all duration-500 cursor-pointer ${idx === currentIndex ? 'w-10 bg-orange-500 shadow-[0_0_10px_rgba(249,115,22,0.8)]' : 'w-3 bg-white/20 hover:bg-white/40'}` })
                            ))
                        )
                    ),
                    React.createElement('div', { className: "mb-16" },
                        React.createElement(EditableTitle, { id: "movies", currentTitle: categoryTitles.movies }),
                        React.createElement('div', { className: "grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-x-6 gap-y-12" },
                            filteredMovies.map(movie => (
                                React.createElement('div', { key: movie.id, className: "group relative flex flex-col gap-2 cursor-pointer transition-all duration-500 hover:-translate-y-2", onClick: () => handleMovieClick(movie) },
                                    React.createElement('div', { className: "relative aspect-[2/3] overflow-hidden rounded-xl shadow-2xl border border-white/5 bg-zinc-900" },
                                        React.createElement('img', { src: movie.poster, alt: movie.title, className: "w-full h-full object-cover transition-transform duration-700 group-hover:scale-110", loading: "lazy" }),
                                        React.createElement('div', { className: "absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center" },
                                            React.createElement('div', { className: "bg-orange-500 shadow-lg shadow-orange-500/40 rounded-full p-4 transform scale-90 group-hover:scale-100 transition-transform duration-300" },
                                                React.createElement(Icon, { name: "play", size: 24, fill: "currentColor", className: "text-white ml-1" })
                                            )
                                        )
                                    ),
                                    React.createElement('div', { className: "flex flex-col px-1" },
                                        React.createElement('h3', { className: "text-white font-bold text-[14px] sm:text-[15px] truncate group-hover:text-orange-500 transition-colors" }, movie.title),
                                        React.createElement('div', { className: "flex items-center justify-between mt-1" },
                                            React.createElement('p', { className: "text-gray-500 text-[11px] font-medium" }, `${movie.year} • ${movie.genres?.[0] || '기타'}`),
                                            React.createElement('div', { className: "flex items-center gap-1" },
                                                React.createElement(Icon, { name: "star", size: 12, fill: "currentColor", className: "text-orange-500" }),
                                                React.createElement('span', { className: "text-gray-300 text-[11px] font-black" }, getAverageRating(movie.id))
                                            )
                                        )
                                    )
                                )
                            ))
                        )
                    ),
                    !searchQuery && React.createElement('div', { className: "mt-20" },
                        React.createElement(EditableTitle, { 
                            id: "cast", currentTitle: categoryTitles.cast, 
                            onAdd: () => { setEditingCast(null); setIsCastEditModalOpen(true); } 
                        }),
                        React.createElement('div', { className: "flex gap-10 overflow-x-auto pb-6 custom-scrollbar" },
                            castList.map(cast => (
                                React.createElement('div', { key: cast.id, className: "flex flex-col items-center gap-4 min-w-[120px] cursor-pointer group", onClick: () => handleCastClick(cast) },
                                    React.createElement('div', { className: "w-24 h-24 rounded-full overflow-hidden border-2 border-transparent group-hover:border-orange-500 transition-all shadow-xl" },
                                        React.createElement('img', { src: cast.photo, className: "w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" })
                                    ),
                                    React.createElement('span', { className: "text-sm font-bold text-gray-400 group-hover:text-white transition-colors" }, cast.name)
                                )
                            ))
                        )
                    )
                );
            };

            // --- DetailView ---
            const DetailView = () => (
                React.createElement('div', { className: "relative min-h-screen bg-black pb-20 fade-in" },
                    React.createElement('div', { className: "relative w-full h-[85vh] overflow-hidden" },
                        React.createElement('img', { src: selectedMovie.backdrop, className: "w-full h-full object-cover", alt: selectedMovie.title }),
                        React.createElement('div', { className: "absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent" }),
                        React.createElement('div', { className: "absolute inset-0 bg-gradient-to-r from-black/80 via-transparent to-transparent" }),
                        React.createElement('button', { onClick: () => setView('home'), className: "absolute top-28 left-8 z-20 p-3 bg-black/40 backdrop-blur-xl rounded-full border border-white/10 text-white hover:bg-orange-500 transition-all hover:scale-110 active:scale-95 shadow-2xl" }, React.createElement(Icon, { name: "chevron-left", size: 24 })),
                        React.createElement('div', { className: "absolute bottom-24 left-8 md:left-20 max-w-4xl pr-10 z-10" },
                            React.createElement('div', { className: "flex items-center gap-3 mb-6" }, React.createElement('span', { className: "text-orange-500 font-black tracking-[0.3em] text-[10px] uppercase border border-orange-500/30 px-2 py-1 rounded" }, "SUGA Exclusive")),
                            React.createElement('h1', { className: "text-4xl md:text-6xl font-black text-white mb-8 tracking-tighter drop-shadow-2xl leading-[1.05]" }, selectedMovie.title),
                            React.createElement('div', { className: "flex flex-wrap items-center gap-5 text-[13px] text-gray-400 font-bold mb-10" },
                                React.createElement('span', { className: "text-green-500 flex items-center gap-1.5 bg-green-500/10 px-3 py-1 rounded-full border border-green-500/20" }, React.createElement(Icon, { name: "star", size: 12, fill: "currentColor" }), ` ${getAverageRating(selectedMovie.id)} Rating`),
                                React.createElement('span', null, selectedMovie.year),
                                React.createElement('span', { className: "border border-white/20 px-2.5 py-0.5 rounded text-white bg-white/5" }, selectedMovie.ageRating || '15+'),
                                React.createElement('span', null, selectedMovie.duration)
                            ),
                            React.createElement('div', { className: "flex flex-wrap items-center gap-4" },
                                React.createElement('button', { className: "flex items-center gap-3 bg-white text-black px-8 py-3.5 rounded-2xl font-black text-sm hover:bg-orange-500 hover:text-white transition-all shadow-2xl" }, React.createElement(Icon, { name: "play", size: 18, fill: "currentColor", className: "ml-1" }), " 재생하기"),
                                React.createElement('button', { onClick: () => setIsCommentModalOpen(true), className: "flex items-center gap-3 bg-white/10 backdrop-blur-xl text-white px-6 py-3.5 rounded-2xl font-black text-sm hover:bg-white/20 transition-all border border-white/10" }, React.createElement(Icon, { name: "message-square", size: 18 }), " 감상평 작성"),
                                isAdmin && React.createElement('div', { className: "flex gap-2" },
                                    React.createElement('button', { onClick: () => { setEditingMovie(selectedMovie); setIsEditModalOpen(true); }, className: "p-3 bg-blue-600/20 text-blue-400 border border-blue-600/30 rounded-2xl hover:bg-blue-600 shadow-lg" }, React.createElement(Icon, { name: "edit", size: 16 })),
                                    React.createElement('button', { onClick: () => deleteMovie(selectedMovie.id), className: "p-3 bg-red-600/20 text-red-400 border border-red-600/30 rounded-2xl hover:bg-red-600 shadow-lg" }, React.createElement(Icon, { name: "trash", size: 16 }))
                                )
                            )
                        )
                    ),
                    React.createElement('div', { className: "px-8 md:px-20 py-20 grid grid-cols-1 lg:grid-cols-3 gap-20 max-w-7xl mx-auto" },
                        React.createElement('div', { className: "lg:col-span-2 space-y-16" },
                            React.createElement('div', { className: "space-y-6" },
                                React.createElement('h3', { className: "text-gray-600 text-[11px] font-black uppercase tracking-[0.4em] flex items-center gap-3" }, React.createElement('span', { className: "w-8 h-px bg-zinc-800" }), " Synopsis"),
                                React.createElement('p', { className: "text-gray-300 text-sm sm:text-base leading-[1.8] font-medium whitespace-pre-line opacity-90" }, selectedMovie.description)
                            ),
                            React.createElement('div', { className: "space-y-8" },
                                React.createElement('h3', { className: "text-xl font-bold text-white flex items-center gap-3" }, "등장인물", React.createElement('span', { className: "w-1.5 h-1.5 rounded-full bg-orange-500" })),
                                React.createElement('div', { className: "flex gap-4 overflow-x-auto pb-4 custom-scrollbar" },
                                    (selectedMovie.cast || "").split(', ').map(actor => {
                                        const profile = castList.find(c => c.name === actor);
                                        return React.createElement('div', { key: actor, className: "flex flex-col items-center gap-2 min-w-[70px] cursor-pointer group", onClick: () => profile && handleCastClick(profile) },
                                            React.createElement('div', { className: "w-16 h-16 rounded-full overflow-hidden border border-white/10 group-hover:border-orange-500 transition-all" }, React.createElement('img', { src: profile?.photo || "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=400&auto=format&fit=crop", className: "w-full h-full object-cover" })),
                                            React.createElement('span', { className: "text-[11px] text-gray-400 group-hover:text-white text-center" }, actor)
                                        );
                                    })
                                )
                            )
                        ),
                        React.createElement('div', { className: "space-y-12" },
                            React.createElement('div', { className: "bg-zinc-900/40 p-8 rounded-[2rem] border border-white/5 space-y-8" },
                                React.createElement('h3', { className: "text-xl font-black text-white flex items-center justify-between" }, "실시간 리뷰", React.createElement('span', { className: "bg-orange-500 text-[10px] px-2 py-0.5 rounded-full" }, comments.filter(c => c.movieId === selectedMovie.id).length)),
                                React.createElement('div', { className: "space-y-6 max-h-[450px] overflow-y-auto pr-3 custom-scrollbar" },
                                    comments.filter(c => c.movieId === selectedMovie.id).map(comment => (
                                        React.createElement('div', { key: comment.id, className: "group/comment relative border-b border-white/5 pb-6 last:border-0" },
                                            React.createElement('div', { className: "flex justify-between items-start mb-3" },
                                                React.createElement('div', null, React.createElement('span', { className: "text-white font-black text-sm block mb-1" }, comment.nickname), React.createElement('span', { className: "text-[10px] text-zinc-600 font-bold uppercase tracking-wider" }, comment.date)),
                                                React.createElement('div', { className: "flex items-center gap-2" },
                                                    React.createElement('div', { className: "flex items-center gap-0.5 text-orange-500" }, [...Array(5)].map((_, i) => React.createElement(Icon, { key: i, name: "star", size: 10, fill: i < comment.rating ? "currentColor" : "none", className: i < comment.rating ? '' : 'opacity-20' }))),
                                                    isAdmin && React.createElement('button', { onClick: () => deleteComment(comment.id), className: "opacity-0 group-hover/comment:opacity-100 p-1.5 bg-red-500/20 text-red-500 rounded-md hover:bg-red-500" }, React.createElement(Icon, { name: "trash", size: 12 }))
                                                )
                                            ),
                                            React.createElement('p', { className: "text-gray-400 text-[13px] leading-relaxed italic" }, `"${comment.text}"`)
                                        )
                                    ))
                                )
                            ),
                            React.createElement('div', { className: "space-y-5 px-4 text-xs" },
                                React.createElement('div', { className: "flex justify-between border-b border-white/5 pb-4 uppercase tracking-widest" }, React.createElement('span', { className: "text-zinc-600 font-black" }, "Director"), React.createElement('span', { className: "text-white font-medium" }, selectedMovie.director)),
                                React.createElement('div', { className: "flex justify-between border-b border-white/5 pb-4 uppercase tracking-widest" }, React.createElement('span', { className: "text-zinc-600 font-black" }, "Cast"), React.createElement('span', { className: "text-white font-medium text-right max-w-[150px] truncate" }, selectedMovie.cast)),
                                React.createElement('div', { className: "flex justify-between uppercase tracking-widest font-bold" }, React.createElement('span', { className: "text-zinc-600 font-black" }, "Genre"), React.createElement('span', { className: "text-orange-500 font-medium" }, selectedMovie.genres?.join(', ')))
                            )
                        )
                    )
                )
            );

            // --- Wiki View ---
            const CastWikiView = () => {
                const filmography = movies.filter(m => (m.cast || "").includes(selectedCast.name));
                return React.createElement('div', { className: "pt-32 pb-20 px-8 max-w-5xl mx-auto fade-in" },
                    React.createElement('div', { className: "flex justify-between items-center mb-10" },
                        React.createElement('button', { onClick: () => setView('home'), className: "flex items-center gap-2 text-gray-500 hover:text-white transition-colors group" }, React.createElement(Icon, { name: "chevron-left", size: 20, className: "group-hover:-translate-x-1 transition-transform" }), " 뒤로 가기"),
                        isAdmin && React.createElement('div', { className: "flex gap-2" },
                            React.createElement('button', { onClick: () => { setEditingCast(selectedCast); setIsCastEditModalOpen(true); }, className: "flex items-center gap-2 bg-blue-600/20 text-blue-400 px-4 py-2 rounded-xl border border-blue-600/30 hover:bg-blue-600 hover:text-white transition-all text-xs font-bold" }, React.createElement(Icon, { name: "edit", size: 14 }), " 프로필 수정"),
                            React.createElement('button', { onClick: () => deleteCast(selectedCast.id), className: "flex items-center gap-2 bg-red-600/20 text-red-400 px-4 py-2 rounded-xl border border-red-600/30 hover:bg-red-600 hover:text-white transition-all text-xs font-bold" }, React.createElement(Icon, { name: "trash", size: 14 }), " 인물 삭제")
                        )
                    ),
                    React.createElement('div', { className: "flex flex-col md:flex-row gap-12 border-b border-white/10 pb-12" },
                        React.createElement('div', { className: "w-full md:w-64 h-64 md:h-80 rounded-3xl overflow-hidden shadow-2xl border border-white/5 bg-zinc-900" }, React.createElement('img', { src: selectedCast.photo, className: "w-full h-full object-cover", alt: selectedCast.name })),
                        React.createElement('div', { className: "flex-1 space-y-6" },
                            React.createElement('div', null, React.createElement('h1', { className: "text-5xl font-black text-white mb-2" }, selectedCast.name), React.createElement('p', { className: "text-orange-500 font-bold tracking-widest uppercase text-sm" }, `${selectedCast.role || '배우'} | 프로필`)),
                            React.createElement('div', { className: "grid grid-cols-2 gap-4 text-sm text-gray-400" },
                                React.createElement('div', { className: "bg-zinc-900/50 p-4 rounded-xl border border-white/5" }, React.createElement('span', { className: "block text-zinc-600 text-xs font-black mb-1 uppercase tracking-tighter" }, "Born"), selectedCast.birth),
                                React.createElement('div', { className: "bg-zinc-900/50 p-4 rounded-xl border border-white/5" }, React.createElement('span', { className: "block text-zinc-600 text-xs font-black mb-1 uppercase tracking-tighter" }, "Activity"), selectedCast.activity || "현직 배우")
                            ),
                            React.createElement('div', { className: "space-y-2" }, React.createElement('h3', { className: "text-zinc-600 font-black text-[10px] uppercase tracking-widest" }, "Introduction"), React.createElement('p', { className: "text-gray-300 leading-relaxed font-medium" }, selectedCast.bio))
                        )
                    ),
                    React.createElement('div', { className: "mt-16" },
                        React.createElement('h3', { className: "text-2xl font-black text-white mb-10 flex items-center gap-3" }, React.createElement('span', { className: "w-1.5 h-6 bg-orange-500 rounded-full" }), " 주요 출연 작품"),
                        React.createElement('div', { className: "grid grid-cols-2 sm:grid-cols-4 gap-6" },
                            filmography.length > 0 ? filmography.map(movie => (
                                React.createElement('div', { key: movie.id, className: "group cursor-pointer", onClick: () => handleMovieClick(movie) },
                                    React.createElement('div', { className: "aspect-[2/3] overflow-hidden rounded-xl bg-zinc-900 border border-white/5 mb-3" }, React.createElement('img', { src: movie.poster, className: "w-full h-full object-cover group-hover:scale-105 transition-transform", alt: movie.title })),
                                    React.createElement('h4', { className: "text-white font-bold text-sm truncate" }, movie.title),
                                    React.createElement('p', { className: "text-zinc-600 text-[11px]" }, movie.year)
                                )
                            )) : React.createElement('div', { className: "col-span-full py-10 text-zinc-600 text-sm italic" }, "등록된 출연작이 없습니다.")
                        )
                    )
                );
            };

            const Footer = () => (
                React.createElement('footer', { className: "bg-zinc-950 pt-20 pb-12 px-8 border-t border-white/5 text-zinc-500" },
                    React.createElement('div', { className: "max-w-7xl mx-auto flex flex-col items-center" },
                        React.createElement('h2', { className: "text-3xl font-black text-orange-500 tracking-tighter mb-8" }, "SUGANEMA"),
                        React.createElement('div', { className: "flex flex-wrap justify-center gap-x-8 gap-y-3 text-xs font-semibold mb-10 uppercase tracking-wider" },
                            React.createElement('a', { href: "#" }, "서비스 이용약관"), React.createElement('a', { href: "#", className: "text-zinc-300 font-bold" }, "개인정보 처리방침"), 
                            React.createElement('a', { href: "#" }, "청소년 보호방침"), React.createElement('a', { href: "#" }, "고객센터"), React.createElement('a', { href: "#" }, "회사 안내")
                        ),
                        React.createElement('div', { className: "text-[10px] text-center leading-relaxed opacity-60 space-y-1" },
                            React.createElement('p', null, "슈가네마(주) | 대표이사: 신시우, 건가을 | 별담"),
                            React.createElement('p', null, "사업자등록번호: 2026-SUGA-1ST | 통신판매업신고번호: 제 2026-별담-0001호"),
                            React.createElement('p', null, "호스팅서비스제공자: SUGANEMA Production | 이메일: support@suganema.com")
                        ),
                        React.createElement('p', { className: "mt-8 text-[11px] font-black uppercase tracking-[0.2em] text-zinc-700 italic" }, "© 2026 by sansa_ramm , suga 1st Ann.")
                    )
                )
            );

            // Helpers
            const EditableTitle = ({ id, currentTitle, onAdd }) => {
                const [tempTitle, setTempTitle] = useState(currentTitle);
                const isEditing = editingCategoryId === id;
                if (isAdmin && isEditing) {
                    return React.createElement('div', { className: "flex items-center gap-2 mb-8" },
                        React.createElement('input', { autoFocus: true, className: "bg-zinc-800 border-b border-orange-500 text-white text-xl font-bold focus:outline-none px-2 py-1 min-w-[300px]", value: tempTitle, onChange: (e) => setTempTitle(e.target.value), onKeyDown: (e) => e.key === 'Enter' && handleCategoryTitleChange(id, tempTitle) }),
                        React.createElement('button', { onClick: () => handleCategoryTitleChange(id, tempTitle), className: "p-1.5 bg-orange-500 rounded text-white" }, React.createElement(Icon, { name: "check", size: 16 })),
                        React.createElement('button', { onClick: () => setEditingCategoryId(null), className: "p-1.5 bg-zinc-700 rounded text-gray-300" }, React.createElement(Icon, { name: "x", size: 16 }))
                    );
                }
                return React.createElement('div', { className: "flex items-center justify-between mb-8 group" },
                    React.createElement('h2', { className: "text-xl font-bold text-white flex items-center gap-3" },
                        React.createElement('span', { className: "w-1.5 h-6 bg-orange-500 rounded-full shadow-[0_0_10px_rgba(249,115,22,0.5)]" }), currentTitle,
                        isAdmin && React.createElement('div', { className: "flex items-center gap-2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity" },
                            React.createElement('button', { onClick: () => setEditingCategoryId(id), className: "p-1.5 bg-zinc-800 rounded-full text-orange-500 hover:bg-zinc-700" }, React.createElement(Icon, { name: "edit", size: 12 })),
                            onAdd && React.createElement('button', { onClick: onAdd, className: "p-1.5 bg-zinc-800 rounded-full text-sky-400 hover:bg-zinc-700" }, React.createElement(Icon, { name: "userPlus", size: 12 }))
                        )
                    )
                );
            };

            const AuthModal = () => {
                const [pwd, setPwd] = useState("");
                return React.createElement('div', { className: "fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-3xl" },
                    React.createElement('div', { className: "absolute inset-0", onClick: () => setIsAuthModalOpen(false) }),
                    React.createElement('div', { className: "relative bg-zinc-900 p-12 rounded-[2.5rem] w-full max-w-sm text-center border border-white/10 shadow-2xl scale-in" },
                        React.createElement(Icon, { name: "lock", size: 32, className: "text-orange-500 mx-auto mb-8" }), React.createElement('h3', { className: "text-white font-black text-2xl mb-10" }, "Admin Access"),
                        React.createElement('input', { type: "password", placeholder: "●●●●", autoFocus: true, className: "w-full bg-black/50 p-5 rounded-2xl text-white text-center mb-6 focus:outline-none tracking-[1em]", value: pwd, onChange: e => setPwd(e.target.value), onKeyDown: e => e.key === 'Enter' && handleAdminLogin(pwd) }),
                        React.createElement('button', { onClick: () => handleAdminLogin(pwd), className: "w-full bg-orange-600 py-4 rounded-2xl font-black text-white" }, "확인")
                    )
                );
            };

            const CommentModal = () => {
                const [data, setData] = useState({ nickname: "", rating: 0, text: "" });
                const submit = async () => {
                    const commentsRef = collection(db, 'artifacts', appId, 'public', 'data', 'comments');
                    await addDoc(commentsRef, { ...data, movieId: selectedMovie.id, date: new Date().toISOString().split('T')[0] });
                    setIsCommentModalOpen(false);
                };
                return React.createElement('div', { className: "fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-2xl" },
                    React.createElement('div', { className: "absolute inset-0", onClick: () => setIsCommentModalOpen(false) }),
                    React.createElement('div', { className: "relative bg-zinc-900 w-full max-w-md rounded-[3rem] p-12 text-center border border-white/10 scale-in" },
                        React.createElement('h3', { className: "text-white font-black text-2xl mb-8" }, "감상평 남기기"),
                        React.createElement('div', { className: "flex justify-center gap-3 mb-10" }, [1,2,3,4,5].map(s => React.createElement(Icon, { key: s, name: "star", size: 40, fill: s <= data.rating ? "currentColor" : "none", className: `cursor-pointer ${s <= data.rating ? 'text-orange-500' : 'text-zinc-800'}`, onClick: () => setData({...data, rating: s}) }))),
                        React.createElement('div', { className: "space-y-4" },
                            React.createElement('input', { placeholder: "닉네임", className: "w-full bg-black/50 p-5 rounded-xl text-white outline-none", value: data.nickname, onChange: e => setData({...data, nickname: e.target.value}) }),
                            React.createElement('textarea', { placeholder: "감상을 남겨주세요.", className: "w-full bg-black/50 p-5 rounded-xl text-white h-32 resize-none outline-none", value: data.text, onChange: e => setData({...data, text: e.target.value}) }),
                            React.createElement('button', { disabled: !data.nickname || !data.rating || !data.text, onClick: submit, className: "w-full bg-orange-600 py-4 rounded-xl font-black text-white disabled:opacity-20" }, "등록")
                        )
                    )
                );
            };

            const EditModal = () => {
                const [form, setForm] = useState(editingMovie || { title: "", year: "2024", genres: [], ageRating: "15+", duration: "", description: "", poster: "", backdrop: "", director: "", cast: "", isBanner: false });
                const genreOptions = ["SF", "액션", "로맨스", "스릴러", "드라마", "공포", "애니메이션", "뮤지컬"];
                const toggleGenre = (g) => setForm(f => ({ ...f, genres: f.genres.includes(g) ? f.genres.filter(i => i !== g) : [...f.genres, g] }));
                return React.createElement('div', { className: "fixed inset-0 z-[100] flex items-center justify-center p-6 bg-black/60 backdrop-blur-xl" },
                    React.createElement('div', { className: "absolute inset-0", onClick: () => setIsEditModalOpen(false) }),
                    React.createElement('div', { className: "relative bg-zinc-950 w-full max-w-3xl rounded-[2.5rem] border border-white/10 shadow-3xl flex flex-col max-h-[90vh] overflow-hidden scale-in" },
                        React.createElement('div', { className: "p-8 border-b border-white/5 flex justify-between items-center bg-zinc-900/50" }, React.createElement('h3', { className: "text-white font-black text-2xl" }, editingMovie ? '작품 수정' : '새 작품 등록'), React.createElement('button', { onClick: () => setIsEditModalOpen(false), className: "p-2 bg-white/5 rounded-full hover:bg-red-500" }, React.createElement(Icon, { name: "x", size: 20 }))),
                        React.createElement('div', { className: "p-8 overflow-y-auto space-y-8 custom-scrollbar" },
                            React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-2 gap-6" },
                                React.createElement('div', { className: "col-span-2 flex items-center gap-3 bg-orange-500/10 p-4 rounded-2xl border border-orange-500/20" },
                                    React.createElement('input', { type: "checkbox", id: "isBanner", className: "w-5 h-5 accent-orange-500 cursor-pointer", checked: form.isBanner, onChange: e => setForm({...form, isBanner: e.target.checked}) }),
                                    React.createElement('label', { htmlFor: "isBanner", className: "text-sm font-bold text-orange-500" }, "이 작품을 홈 화면 상단 배너(하이라이트)에 노출합니다")
                                ),
                                React.createElement('div', { className: "col-span-2 space-y-2" }, React.createElement('label', { className: "text-[10px] text-zinc-500 font-black uppercase tracking-widest" }, "Genre Selection"), React.createElement('div', { className: "flex flex-wrap gap-2" }, genreOptions.map(g => React.createElement('button', { key: g, onClick: () => toggleGenre(g), className: `px-4 py-2 rounded-xl text-xs font-black border ${form.genres.includes(g) ? 'bg-orange-500 border-orange-500 text-white' : 'border-white/10 text-zinc-500'}` }, g)))),
                                React.createElement('input', { placeholder: "제목", className: "bg-zinc-900/50 border border-white/10 p-4 rounded-2xl text-white outline-none font-bold", value: form.title, onChange: e => setForm({...form, title: e.target.value}) }),
                                React.createElement('div', { className: "grid grid-cols-2 gap-3" }, React.createElement('input', { placeholder: "연도", className: "bg-zinc-900/50 border border-white/10 p-4 rounded-2xl text-white outline-none font-bold", value: form.year, onChange: e => setForm({...form, year: e.target.value}) }), React.createElement('input', { placeholder: "시간", className: "bg-zinc-900/50 border border-white/10 p-4 rounded-2xl text-white outline-none font-bold", value: form.duration, onChange: e => setForm({...form, duration: e.target.value}) })),
                                React.createElement('textarea', { placeholder: "시놉시스", className: "col-span-2 bg-zinc-900/50 border border-white/10 p-4 rounded-2xl text-white h-32 resize-none outline-none leading-relaxed", value: form.description, onChange: e => setForm({...form, description: e.target.value}) }),
                                React.createElement('input', { placeholder: "감독", className: "bg-zinc-900/50 border border-white/10 p-4 rounded-2xl text-white outline-none font-bold", value: form.director, onChange: e => setForm({...form, director: e.target.value}) }),
                                React.createElement('input', { placeholder: "출연진 (쉼표 구분)", className: "bg-zinc-900/50 border border-white/10 p-4 rounded-2xl text-white outline-none font-bold", value: form.cast, onChange: e => setForm({...form, cast: e.target.value}) }),
                                React.createElement('input', { placeholder: "포스터 URL", className: "bg-zinc-900/50 border border-white/10 p-4 rounded-2xl text-white outline-none text-xs", value: form.poster, onChange: e => setForm({...form, poster: e.target.value}) }),
                                React.createElement('input', { placeholder: "백드롭 URL", className: "bg-zinc-900/50 border border-white/10 p-4 rounded-2xl text-white outline-none text-xs", value: form.backdrop, onChange: e => setForm({...form, backdrop: e.target.value}) })
                            )
                        ),
                        React.createElement('div', { className: "p-8 border-t border-white/5 bg-zinc-950" }, React.createElement('button', { onClick: () => saveMovie(form), className: "w-full bg-orange-600 py-4 rounded-2xl font-black text-white hover:bg-orange-500 shadow-xl" }, "저장하기"))
                    )
                );
            };

            const CastEditModal = () => {
                const [form, setForm] = useState(editingCast || { name: "", role: "배우", birth: "", activity: "현직 배우", bio: "", photo: "" });
                return React.createElement('div', { className: "fixed inset-0 z-[100] flex items-center justify-center p-6 bg-black/60 backdrop-blur-xl" },
                    React.createElement('div', { className: "absolute inset-0", onClick: () => setIsCastEditModalOpen(false) }),
                    React.createElement('div', { className: "relative bg-zinc-950 w-full max-w-2xl rounded-[2.5rem] border border-white/10 shadow-3xl flex flex-col scale-in" },
                        React.createElement('div', { className: "p-8 border-b border-white/5 flex justify-between items-center bg-zinc-900/50" }, React.createElement('h3', { className: "text-white font-black text-2xl" }, editingCast ? '인물 수정' : '새 인물 등록'), React.createElement('button', { onClick: () => setIsCastEditModalOpen(false), className: "p-2 bg-white/5 rounded-full hover:bg-red-500" }, React.createElement(Icon, { name: "x", size: 20 }))),
                        React.createElement('div', { className: "p-8 space-y-6" },
                            React.createElement('div', { className: "grid grid-cols-2 gap-6" },
                                React.createElement('input', { placeholder: "Name", className: "w-full bg-zinc-900/50 border border-white/10 p-4 rounded-2xl text-white outline-none font-bold", value: form.name, onChange: e => setForm({...form, name: e.target.value}) }),
                                React.createElement('input', { placeholder: "Role", className: "w-full bg-zinc-900/50 border border-white/10 p-4 rounded-2xl text-white outline-none font-bold", value: form.role, onChange: e => setForm({...form, role: e.target.value}) }),
                                React.createElement('input', { placeholder: "Born", className: "w-full bg-zinc-900/50 border border-white/10 p-4 rounded-2xl text-white outline-none font-bold", value: form.birth, onChange: e => setForm({...form, birth: e.target.value}) }),
                                React.createElement('input', { placeholder: "Activity", className: "w-full bg-zinc-900/50 border border-white/10 p-4 rounded-2xl text-white outline-none font-bold", value: form.activity, onChange: e => setForm({...form, activity: e.target.value}) }),
                                React.createElement('input', { placeholder: "Photo URL", className: "col-span-2 w-full bg-zinc-900/50 border border-white/10 p-4 rounded-2xl text-white outline-none text-xs", value: form.photo, onChange: e => setForm({...form, photo: e.target.value}) }),
                                React.createElement('textarea', { placeholder: "Biography", className: "col-span-2 w-full bg-zinc-900/50 border border-white/10 p-4 rounded-2xl text-white h-32 resize-none outline-none leading-relaxed", value: form.bio, onChange: e => setForm({...form, bio: e.target.value}) })
                            )
                        ),
                        React.createElement('div', { className: "p-8 border-t border-white/5 bg-zinc-950" }, React.createElement('button', { onClick: () => saveCast(form), className: "w-full bg-orange-600 py-4 rounded-2xl font-black text-white hover:bg-orange-500 shadow-xl" }, "정보 저장하기"))
                    )
                );
            };

            return React.createElement('div', { className: "min-h-screen bg-black flex flex-col" },
                React.createElement(Navbar, { view, setView, setSearchQuery, searchQuery, isAdmin, setIsAuthModalOpen, setIsEditModalOpen, setEditingMovie }),
                React.createElement('main', { className: "flex-grow" }, 
                    view === 'home' ? React.createElement(HomeView) : view === 'detail' ? React.createElement(DetailView) : React.createElement(CastWikiView)
                ),
                React.createElement(Footer),
                isAuthModalOpen && React.createElement(AuthModal),
                isCommentModalOpen && React.createElement(CommentModal),
                isEditModalOpen && React.createElement(EditModal),
                isCastEditModalOpen && React.createElement(CastEditModal)
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(App));
    </script>
</body>
</html>